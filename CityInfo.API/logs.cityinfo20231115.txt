2023-11-15 09:30:02.311 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 09:30:02.406 +07:00 [DBG] Hosting starting
2023-11-15 09:30:02.478 +07:00 [INF] User profile is available. Using 'C:\Users\Tuan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 09:30:02.483 +07:00 [DBG] Reading data from file 'C:\Users\Tuan\AppData\Local\ASP.NET\DataProtection-Keys\key-178a1949-30c7-4424-8abb-88859a5885a8.xml'.
2023-11-15 09:30:02.526 +07:00 [DBG] Found key {178a1949-30c7-4424-8abb-88859a5885a8}.
2023-11-15 09:30:02.538 +07:00 [DBG] Considering key {178a1949-30c7-4424-8abb-88859a5885a8} with expiration date 2024-02-12 09:22:01Z as default key.
2023-11-15 09:30:02.542 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 09:30:02.546 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 09:30:02.549 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 09:30:02.555 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 09:30:02.559 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 09:30:02.563 +07:00 [DBG] Using key {178a1949-30c7-4424-8abb-88859a5885a8} as the default key.
2023-11-15 09:30:02.564 +07:00 [DBG] Key ring with default key {178a1949-30c7-4424-8abb-88859a5885a8} was loaded during application startup.
2023-11-15 09:30:02.857 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 49E1A446FE4517BF490D6DC59C2BDC7ED7AD0EF3)
2023-11-15 09:30:02.895 +07:00 [INF] Now listening on: https://localhost:7138
2023-11-15 09:30:02.897 +07:00 [INF] Now listening on: http://localhost:5019
2023-11-15 09:30:02.898 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 09:30:02.899 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 09:30:02.901 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 09:30:02.903 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 09:30:02.903 +07:00 [INF] Hosting environment: Development
2023-11-15 09:30:02.904 +07:00 [INF] Content root path: D:\.net\CityInfo.API\CityInfo.API\
2023-11-15 09:30:02.905 +07:00 [DBG] Hosting started
2023-11-15 09:30:03.269 +07:00 [DBG] Connection id "0HMV5GB2V87LI" accepted.
2023-11-15 09:30:03.271 +07:00 [DBG] Connection id "0HMV5GB2V87LI" started.
2023-11-15 09:30:03.280 +07:00 [DBG] Connection id "0HMV5GB2V87LI" received FIN.
2023-11-15 09:30:03.289 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 09:30:03.399 +07:00 [DBG] Connection id "0HMV5GB2V87LI" stopped.
2023-11-15 09:30:03.401 +07:00 [DBG] Connection id "0HMV5GB2V87LI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 09:30:04.731 +07:00 [DBG] Connection id "0HMV5GB2V87LJ" accepted.
2023-11-15 09:30:04.758 +07:00 [DBG] Connection id "0HMV5GB2V87LJ" started.
2023-11-15 09:30:04.906 +07:00 [DBG] Connection 0HMV5GB2V87LJ established using the following protocol: "Tls12"
2023-11-15 09:30:05.439 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/swagger/index.html - -
2023-11-15 09:30:05.520 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 09:30:06.630 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-15 09:30:07.461 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-15 09:30:07.470 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/swagger/index.html - - - 200 - text/html;charset=utf-8 2043.6090ms
2023-11-15 09:30:07.495 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/_framework/aspnetcore-browser-refresh.js - -
2023-11-15 09:30:07.501 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.8514ms
2023-11-15 09:30:07.548 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/_vs/browserLink - -
2023-11-15 09:30:07.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 91.4517ms
2023-11-15 09:30:09.315 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/swagger/v1/swagger.json - -
2023-11-15 09:30:09.662 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 346.9159ms
2023-11-15 09:30:10.387 +07:00 [DBG] Connection id "0HMV5GB2V87LJ" received FIN.
2023-11-15 09:30:10.400 +07:00 [DBG] Connection id "0HMV5GB2V87LJ" is closed. The last processed stream ID was 7.
2023-11-15 09:30:10.404 +07:00 [DBG] Connection id "0HMV5GB2V87LJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 09:30:10.415 +07:00 [DBG] Connection id "0HMV5GB2V87LJ" stopped.
2023-11-15 09:35:23.459 +07:00 [DBG] Connection id "0HMV5GB2V87LK" accepted.
2023-11-15 09:35:23.461 +07:00 [DBG] Connection id "0HMV5GB2V87LK" received FIN.
2023-11-15 09:35:23.462 +07:00 [DBG] Connection id "0HMV5GB2V87LK" started.
2023-11-15 09:35:23.462 +07:00 [DBG] Connection id "0HMV5GB2V87LL" accepted.
2023-11-15 09:35:23.466 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 09:35:23.467 +07:00 [DBG] Connection id "0HMV5GB2V87LL" started.
2023-11-15 09:35:23.472 +07:00 [DBG] Connection id "0HMV5GB2V87LK" stopped.
2023-11-15 09:35:23.475 +07:00 [DBG] Connection id "0HMV5GB2V87LK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 09:35:23.485 +07:00 [DBG] Connection 0HMV5GB2V87LL established using the following protocol: "Tls12"
2023-11-15 09:35:23.501 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - -
2023-11-15 09:35:23.506 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 09:35:23.548 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-15 09:35:23.557 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-15 09:35:23.560 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 09:35:25.417 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 09:35:25.427 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 09:35:25.435 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 09:35:25.441 +07:00 [DBG] Connection id "0HMV5GB2V87LL" completed keep alive response.
2023-11-15 09:35:25.443 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - - - 401 0 - 1942.7243ms
2023-11-15 09:36:03.940 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - -
2023-11-15 09:36:03.942 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 09:36:03.945 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-15 09:36:03.947 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-15 09:36:03.948 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 09:36:04.066 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/14/2023 10:24:33 AM', Current time (UTC): '11/15/2023 2:36:04 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 09:36:04.394 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/14/2023 10:24:33 AM', Current time (UTC): '11/15/2023 2:36:04 AM'.
2023-11-15 09:36:04.397 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 09:36:04.402 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 09:36:04.404 +07:00 [DBG] Connection id "0HMV5GB2V87LL" completed keep alive response.
2023-11-15 09:36:04.406 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - - - 401 0 - 465.7517ms
2023-11-15 09:36:13.059 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities - -
2023-11-15 09:36:13.062 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 09:36:13.063 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 09:36:13.064 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-11-15 09:36:13.066 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 09:36:13.070 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/14/2023 10:24:33 AM', Current time (UTC): '11/15/2023 2:36:13 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-15 09:36:13.077 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/14/2023 10:24:33 AM', Current time (UTC): '11/15/2023 2:36:13 AM'.
2023-11-15 09:36:13.080 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-11-15 09:36:13.084 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-15 09:36:13.086 +07:00 [DBG] Connection id "0HMV5GB2V87LL" completed keep alive response.
2023-11-15 09:36:13.088 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities - - - 401 0 - 28.4009ms
2023-11-15 09:36:20.227 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7138/api/authentication/authenticate application/json 114
2023-11-15 09:36:20.229 +07:00 [DBG] POST requests are not supported
2023-11-15 09:36:20.231 +07:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 09:36:20.232 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 09:36:20.235 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 09:36:20.236 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 09:36:20.239 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 09:36:20.319 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 09:36:20.323 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 09:36:20.324 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 09:36:20.326 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 09:36:20.329 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 09:36:20.331 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 09:36:20.335 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 09:36:20.338 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 09:36:20.346 +07:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 09:36:20.351 +07:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 09:36:20.355 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerInputFormatter' for content type 'application/json'.
2023-11-15 09:36:20.356 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 09:36:20.358 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 09:36:20.427 +07:00 [DBG] Connection id "0HMV5GB2V87LL", Request id "0HMV5GB2V87LL:00000005": started reading request body.
2023-11-15 09:36:20.429 +07:00 [DBG] Connection id "0HMV5GB2V87LL", Request id "0HMV5GB2V87LL:00000005": done reading request body.
2023-11-15 09:36:20.640 +07:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 09:36:20.643 +07:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 09:36:20.646 +07:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 09:36:20.665 +07:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 09:36:20.709 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-11-15 09:36:20.718 +07:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 09:36:20.720 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 09:36:20.722 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 09:36:20.726 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 09:36:20.729 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 09:36:20.741 +07:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 400.0444ms
2023-11-15 09:36:20.744 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 09:36:20.746 +07:00 [DBG] Connection id "0HMV5GB2V87LL" completed keep alive response.
2023-11-15 09:36:20.747 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7138/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 520.2044ms
2023-11-15 09:36:35.327 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities - -
2023-11-15 09:36:35.333 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 09:36:35.334 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 09:36:35.336 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-11-15 09:36:35.339 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 09:36:35.384 +07:00 [DBG] Successfully validated the token.
2023-11-15 09:36:35.397 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 09:36:35.400 +07:00 [DBG] Authorization was successful.
2023-11-15 09:36:35.401 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 09:36:35.424 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 09:36:35.427 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 09:36:35.428 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 09:36:35.430 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 09:36:35.432 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 09:36:35.434 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 09:36:35.435 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 09:36:36.000 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 09:36:36.305 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 09:36:36.308 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 09:36:36.310 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-11-15 09:36:36.313 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-11-15 09:36:36.317 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 09:36:36.318 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 09:36:36.319 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 09:36:36.320 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 09:36:36.322 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 09:36:36.324 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-11-15 09:36:36.326 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-11-15 09:36:36.327 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 09:36:36.328 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 09:36:36.331 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 09:36:36.333 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 09:36:36.334 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 09:36:36.335 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-11-15 09:36:36.337 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 09:36:36.339 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 09:36:36.340 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 09:36:36.342 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 09:36:36.343 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 09:36:36.344 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 09:36:36.346 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-11-15 09:36:36.348 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-11-15 09:36:36.350 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 09:36:36.352 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 09:36:36.353 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 09:36:36.355 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-11-15 09:36:37.807 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-15 09:36:37.876 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-11-15 09:36:38.086 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 09:36:38.167 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 09:36:38.770 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (604ms).
2023-11-15 09:36:38.782 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 09:36:38.846 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 09:36:38.892 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 09:36:38.933 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 09:36:38.945 +07:00 [DBG] A data reader was disposed.
2023-11-15 09:36:38.952 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 09:36:38.960 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 09:36:38.976 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)'
2023-11-15 09:36:39.039 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 09:36:39.053 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 09:36:39.054 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 09:36:39.058 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 09:36:39.059 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 09:36:39.065 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT -1 OFFSET @__p_0
2023-11-15 09:36:39.074 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT -1 OFFSET @__p_0
2023-11-15 09:36:39.095 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 09:36:39.127 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 09:36:39.132 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 09:36:39.135 +07:00 [DBG] A data reader was disposed.
2023-11-15 09:36:39.136 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 09:36:39.138 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 09:36:39.174 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-11-15 09:36:39.179 +07:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 09:36:39.181 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 09:36:39.183 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 09:36:39.187 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2023-11-15 09:36:39.190 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 09:36:39.236 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3801.1803ms
2023-11-15 09:36:39.240 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 09:36:39.242 +07:00 [DBG] Connection id "0HMV5GB2V87LL" completed keep alive response.
2023-11-15 09:36:39.246 +07:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 09:36:39.251 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities - - - 200 673 application/xml;+charset=utf-8 3923.7463ms
2023-11-15 09:36:50.240 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - -
2023-11-15 09:36:50.243 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 09:36:50.246 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-15 09:36:50.247 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-15 09:36:50.251 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 09:36:50.254 +07:00 [DBG] Successfully validated the token.
2023-11-15 09:36:50.256 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 09:36:50.259 +07:00 [DBG] Authorization was successful.
2023-11-15 09:36:50.262 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 09:36:50.274 +07:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 09:36:50.280 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 09:36:50.283 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 09:36:50.287 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 09:36:50.293 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 09:36:50.296 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 09:36:50.302 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 09:36:50.341 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 09:36:50.342 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 09:36:50.344 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 09:36:50.350 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 09:36:50.353 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 09:36:50.357 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 09:36:50.359 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 09:36:50.374 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-15 09:36:50.386 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-11-15 09:36:50.431 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 09:36:50.461 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 09:36:50.463 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 09:36:50.466 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 09:36:50.469 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 09:36:50.471 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 09:36:50.476 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 09:36:50.481 +07:00 [DBG] A data reader was disposed.
2023-11-15 09:36:50.483 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 09:36:50.485 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 09:36:50.491 +07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-11-15 09:36:50.495 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-15 09:36:50.497 +07:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 195.2816ms
2023-11-15 09:36:50.499 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 09:36:50.501 +07:00 [DBG] Connection id "0HMV5GB2V87LL" completed keep alive response.
2023-11-15 09:36:50.502 +07:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 09:36:50.504 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - - - 403 0 - 263.7491ms
2023-11-15 09:38:26.914 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities/2/pointsofinterest - -
2023-11-15 09:38:26.918 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 09:38:26.920 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-11-15 09:38:26.923 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-11-15 09:38:26.930 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 09:38:27.102 +07:00 [DBG] Successfully validated the token.
2023-11-15 09:38:27.104 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 09:38:27.106 +07:00 [DBG] Authorization was successful.
2023-11-15 09:38:27.108 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 09:38:27.110 +07:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 09:38:27.113 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 09:38:27.115 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 09:38:27.117 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 09:38:27.119 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 09:38:27.121 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 09:38:27.123 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 09:38:27.132 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 09:38:27.145 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 09:38:27.148 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 09:38:27.151 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 09:38:27.153 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 09:38:27.155 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 09:38:27.156 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 09:38:27.242 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-15 09:38:27.252 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 09:38:27.254 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 09:38:27.255 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 09:38:27.256 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 09:38:27.258 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 09:38:27.262 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 09:38:27.265 +07:00 [DBG] A data reader was disposed.
2023-11-15 09:38:27.265 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 09:38:27.267 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 09:38:27.269 +07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-11-15 09:38:27.270 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-15 09:38:27.271 +07:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 148.3435ms
2023-11-15 09:38:27.272 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 09:38:27.274 +07:00 [DBG] Connection id "0HMV5GB2V87LL" completed keep alive response.
2023-11-15 09:38:27.275 +07:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 09:38:27.277 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities/2/pointsofinterest - - - 403 0 - 363.3311ms
2023-11-15 09:40:38.148 +07:00 [DBG] Connection id "0HMV5GB2V87LL" disconnecting.
2023-11-15 09:40:38.153 +07:00 [DBG] Connection id "0HMV5GB2V87LL" stopped.
2023-11-15 09:40:38.156 +07:00 [DBG] Connection id "0HMV5GB2V87LL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 13:18:14.397 +07:00 [DBG] Connection id "0HMV5GB2V87LM" accepted.
2023-11-15 13:18:14.399 +07:00 [DBG] Connection id "0HMV5GB2V87LM" started.
2023-11-15 13:18:14.412 +07:00 [DBG] Connection 0HMV5GB2V87LM established using the following protocol: "Tls12"
2023-11-15 13:18:14.597 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/_framework/aspnetcore-browser-refresh.js - -
2023-11-15 13:18:14.606 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 8.6017ms
2023-11-15 13:18:14.641 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/_vs/browserLink - -
2023-11-15 13:18:14.654 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.2703ms
2023-11-15 13:18:16.804 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/swagger/v1/swagger.json - -
2023-11-15 13:18:16.830 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 26.0602ms
2023-11-15 13:20:29.285 +07:00 [DBG] Connection id "0HMV5GB2V87LM" is closing.
2023-11-15 13:20:29.290 +07:00 [DBG] Connection id "0HMV5GB2V87LM" is closed. The last processed stream ID was 5.
2023-11-15 13:20:29.295 +07:00 [DBG] Connection id "0HMV5GB2V87LM" received FIN.
2023-11-15 13:20:29.295 +07:00 [DBG] Connection id "0HMV5GB2V87LM" stopped.
2023-11-15 13:20:29.304 +07:00 [DBG] Connection id "0HMV5GB2V87LM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 15:28:02.918 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 15:28:03.007 +07:00 [DBG] Hosting starting
2023-11-15 15:28:03.023 +07:00 [INF] User profile is available. Using 'C:\Users\Tuan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 15:28:03.028 +07:00 [DBG] Reading data from file 'C:\Users\Tuan\AppData\Local\ASP.NET\DataProtection-Keys\key-178a1949-30c7-4424-8abb-88859a5885a8.xml'.
2023-11-15 15:28:03.040 +07:00 [DBG] Found key {178a1949-30c7-4424-8abb-88859a5885a8}.
2023-11-15 15:28:03.051 +07:00 [DBG] Considering key {178a1949-30c7-4424-8abb-88859a5885a8} with expiration date 2024-02-12 09:22:01Z as default key.
2023-11-15 15:28:03.055 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 15:28:03.059 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 15:28:03.061 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 15:28:03.067 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 15:28:03.072 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 15:28:03.076 +07:00 [DBG] Using key {178a1949-30c7-4424-8abb-88859a5885a8} as the default key.
2023-11-15 15:28:03.079 +07:00 [DBG] Key ring with default key {178a1949-30c7-4424-8abb-88859a5885a8} was loaded during application startup.
2023-11-15 15:28:03.163 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 49E1A446FE4517BF490D6DC59C2BDC7ED7AD0EF3)
2023-11-15 15:28:03.194 +07:00 [INF] Now listening on: https://localhost:7138
2023-11-15 15:28:03.195 +07:00 [INF] Now listening on: http://localhost:5019
2023-11-15 15:28:03.196 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 15:28:03.197 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 15:28:03.198 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 15:28:03.199 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 15:28:03.200 +07:00 [INF] Hosting environment: Development
2023-11-15 15:28:03.201 +07:00 [INF] Content root path: D:\.net\CityInfo.API\CityInfo.API\
2023-11-15 15:28:03.202 +07:00 [DBG] Hosting started
2023-11-15 15:28:03.697 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QN" received FIN.
2023-11-15 15:28:03.697 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QO" received FIN.
2023-11-15 15:28:03.706 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QO" accepted.
2023-11-15 15:28:03.706 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QN" accepted.
2023-11-15 15:28:03.708 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QO" started.
2023-11-15 15:28:03.709 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QN" started.
2023-11-15 15:28:03.728 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 15:28:03.728 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 15:28:03.760 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QN" stopped.
2023-11-15 15:28:03.760 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QO" stopped.
2023-11-15 15:28:03.765 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 15:28:03.765 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 15:28:04.015 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QP" accepted.
2023-11-15 15:28:04.030 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QP" started.
2023-11-15 15:28:04.111 +07:00 [DBG] Connection 0HMV5MJ4KJ1QP established using the following protocol: "Tls12"
2023-11-15 15:28:04.156 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/swagger/index.html - -
2023-11-15 15:28:04.189 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 15:28:04.448 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-15 15:28:04.551 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-15 15:28:04.557 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/swagger/index.html - - - 200 - text/html;charset=utf-8 403.4101ms
2023-11-15 15:28:04.575 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/_framework/aspnetcore-browser-refresh.js - -
2023-11-15 15:28:04.579 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.6297ms
2023-11-15 15:28:04.611 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/_vs/browserLink - -
2023-11-15 15:28:04.646 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.2136ms
2023-11-15 15:28:05.921 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/swagger/v1/swagger.json - -
2023-11-15 15:28:06.109 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.9045ms
2023-11-15 15:28:20.717 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QQ" accepted.
2023-11-15 15:28:20.719 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QQ" started.
2023-11-15 15:28:20.719 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QR" accepted.
2023-11-15 15:28:20.719 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QQ" received FIN.
2023-11-15 15:28:20.723 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QR" started.
2023-11-15 15:28:20.725 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 15:28:20.733 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QQ" stopped.
2023-11-15 15:28:20.735 +07:00 [DBG] Connection 0HMV5MJ4KJ1QR established using the following protocol: "Tls12"
2023-11-15 15:28:20.735 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 15:28:20.748 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7138/api/authentication/authenticate application/json 114
2023-11-15 15:28:20.752 +07:00 [DBG] POST requests are not supported
2023-11-15 15:28:20.792 +07:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-11-15 15:28:20.801 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-11-15 15:28:20.804 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 15:28:20.943 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-15 15:28:20.950 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 15:28:20.987 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-11-15 15:28:20.994 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 15:28:20.997 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 15:28:20.999 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 15:28:21.001 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 15:28:21.003 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 15:28:21.006 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 15:28:21.011 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-11-15 15:28:21.033 +07:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 15:28:21.036 +07:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-11-15 15:28:21.040 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerInputFormatter' for content type 'application/json'.
2023-11-15 15:28:21.043 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-11-15 15:28:21.046 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-11-15 15:28:21.053 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QR", Request id "0HMV5MJ4KJ1QR:00000002": started reading request body.
2023-11-15 15:28:21.057 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QR", Request id "0HMV5MJ4KJ1QR:00000002": done reading request body.
2023-11-15 15:28:21.202 +07:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 15:28:21.205 +07:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 15:28:21.207 +07:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-11-15 15:28:21.219 +07:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-11-15 15:28:21.281 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-11-15 15:28:21.286 +07:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 15:28:21.287 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 15:28:21.288 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 15:28:21.291 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-11-15 15:28:21.295 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-11-15 15:28:21.305 +07:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 294.048ms
2023-11-15 15:28:21.308 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-11-15 15:28:21.312 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QR" completed keep alive response.
2023-11-15 15:28:21.314 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7138/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 566.8606ms
2023-11-15 15:28:36.918 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities - -
2023-11-15 15:28:36.920 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 15:28:36.922 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 15:28:36.925 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-11-15 15:28:36.927 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:28:37.034 +07:00 [DBG] Successfully validated the token.
2023-11-15 15:28:37.037 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 15:28:37.042 +07:00 [DBG] Authorization was successful.
2023-11-15 15:28:37.045 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:28:37.096 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 15:28:37.103 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 15:28:37.107 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 15:28:37.112 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 15:28:37.121 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 15:28:37.126 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 15:28:37.130 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 15:28:37.478 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-15 15:28:37.708 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 15:28:37.711 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 15:28:37.714 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-11-15 15:28:37.717 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-11-15 15:28:37.719 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 15:28:37.720 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 15:28:37.721 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 15:28:37.723 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 15:28:37.726 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 15:28:37.728 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-11-15 15:28:37.730 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:28:37.732 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:28:37.733 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:28:37.734 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 15:28:37.736 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 15:28:37.737 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 15:28:37.738 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-11-15 15:28:37.739 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 15:28:37.743 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 15:28:37.744 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 15:28:37.745 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 15:28:37.747 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 15:28:37.749 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 15:28:37.750 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-11-15 15:28:37.751 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-11-15 15:28:37.753 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 15:28:37.754 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 15:28:37.755 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 15:28:37.757 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-11-15 15:28:39.800 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-15 15:28:39.847 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-11-15 15:28:40.049 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 15:28:40.100 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 15:28:40.256 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (152ms).
2023-11-15 15:28:40.266 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:28:40.295 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 15:28:40.322 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 15:28:40.361 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 15:28:40.372 +07:00 [DBG] A data reader was disposed.
2023-11-15 15:28:40.379 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 15:28:40.387 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:28:40.402 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)'
2023-11-15 15:28:40.465 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-11-15 15:28:40.483 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 15:28:40.486 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 15:28:40.489 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:28:40.492 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 15:28:40.499 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT -1 OFFSET @__p_0
2023-11-15 15:28:40.511 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT -1 OFFSET @__p_0
2023-11-15 15:28:40.539 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 15:28:40.576 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 15:28:40.580 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 15:28:40.583 +07:00 [DBG] A data reader was disposed.
2023-11-15 15:28:40.585 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 15:28:40.586 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 15:28:40.626 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-11-15 15:28:40.635 +07:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 15:28:40.637 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 15:28:40.640 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 15:28:40.643 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2023-11-15 15:28:40.646 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 15:28:40.675 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3544.56ms
2023-11-15 15:28:40.677 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 15:28:40.680 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QR" completed keep alive response.
2023-11-15 15:28:40.686 +07:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 15:28:40.696 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities - - - 200 673 application/xml;+charset=utf-8 3777.5600ms
2023-11-15 15:30:17.402 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QP" is closing.
2023-11-15 15:30:17.407 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QP" is closed. The last processed stream ID was 7.
2023-11-15 15:30:17.413 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QP" received FIN.
2023-11-15 15:30:17.416 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 15:30:17.435 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QP" stopped.
2023-11-15 15:30:51.721 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QR" disconnecting.
2023-11-15 15:30:51.726 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QR" stopped.
2023-11-15 15:30:51.729 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 16:19:02.522 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QS" accepted.
2023-11-15 16:19:02.525 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QT" accepted.
2023-11-15 16:19:02.525 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QS" started.
2023-11-15 16:19:02.525 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QS" received FIN.
2023-11-15 16:19:02.527 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QT" started.
2023-11-15 16:19:02.531 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 16:19:02.535 +07:00 [DBG] Connection 0HMV5MJ4KJ1QT established using the following protocol: "Tls12"
2023-11-15 16:19:02.539 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QS" stopped.
2023-11-15 16:19:02.541 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities/2/pointsofinterest - -
2023-11-15 16:19:02.544 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 16:19:02.548 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 16:19:02.559 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-11-15 16:19:02.562 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-11-15 16:19:02.568 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:19:02.578 +07:00 [DBG] Successfully validated the token.
2023-11-15 16:19:02.581 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 16:19:02.584 +07:00 [DBG] Authorization was successful.
2023-11-15 16:19:02.585 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:19:02.593 +07:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 16:19:02.595 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 16:19:02.596 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 16:19:02.598 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 16:19:02.600 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 16:19:02.602 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 16:19:02.605 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 16:19:02.617 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 16:19:02.618 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 16:19:02.620 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 16:19:02.623 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:19:02.624 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:19:02.625 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 16:19:02.627 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:19:02.634 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-15 16:19:02.643 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0 && c.Name == __cityName_1)'
2023-11-15 16:19:02.670 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Id == @__cityId_0) && (c.Name == @__cityName_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-15 16:19:02.699 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:19:02.701 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 16:19:02.702 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:19:02.706 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:19:02.708 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 16:19:02.719 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 16:19:02.726 +07:00 [DBG] A data reader was disposed.
2023-11-15 16:19:02.728 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:19:02.731 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:19:02.734 +07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-11-15 16:19:02.741 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-15 16:19:02.742 +07:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 137.8015ms
2023-11-15 16:19:02.747 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:19:02.751 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QT" completed keep alive response.
2023-11-15 16:19:02.752 +07:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 16:19:02.755 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities/2/pointsofinterest - - - 403 0 - 213.3787ms
2023-11-15 16:21:13.040 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QT" disconnecting.
2023-11-15 16:21:13.045 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QT" stopped.
2023-11-15 16:21:13.048 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 16:27:00.454 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QU" accepted.
2023-11-15 16:27:00.455 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QU" received FIN.
2023-11-15 16:27:00.458 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QU" started.
2023-11-15 16:27:00.459 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QV" accepted.
2023-11-15 16:27:00.461 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-11-15 16:27:00.462 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QV" started.
2023-11-15 16:27:00.466 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QU" stopped.
2023-11-15 16:27:00.468 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 16:27:00.469 +07:00 [DBG] Connection 0HMV5MJ4KJ1QV established using the following protocol: "Tls12"
2023-11-15 16:27:00.472 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities/3/pointsofinterest - -
2023-11-15 16:27:00.473 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 16:27:00.474 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-11-15 16:27:00.476 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-11-15 16:27:00.478 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:27:00.480 +07:00 [DBG] Successfully validated the token.
2023-11-15 16:27:00.481 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 16:27:00.484 +07:00 [DBG] Authorization was successful.
2023-11-15 16:27:00.485 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:27:00.486 +07:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 16:27:00.488 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 16:27:00.490 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 16:27:00.493 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 16:27:00.495 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 16:27:00.497 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 16:27:00.498 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 16:27:00.504 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 16:27:00.505 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 16:27:00.507 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 16:27:00.509 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:27:00.511 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:27:00.513 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 16:27:00.514 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:27:00.584 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-15 16:27:00.593 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:27:00.595 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 16:27:00.597 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:27:00.599 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:27:00.601 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 16:27:00.606 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 16:27:00.612 +07:00 [DBG] A data reader was disposed.
2023-11-15 16:27:00.615 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:27:00.617 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:27:00.619 +07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-11-15 16:27:00.620 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-15 16:27:00.622 +07:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 123.3404ms
2023-11-15 16:27:00.624 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:27:00.628 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QV" completed keep alive response.
2023-11-15 16:27:00.629 +07:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 16:27:00.631 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities/3/pointsofinterest - - - 403 0 - 159.6795ms
2023-11-15 16:27:12.371 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - -
2023-11-15 16:27:12.372 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 16:27:12.374 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-15 16:27:12.377 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-15 16:27:12.397 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:27:12.401 +07:00 [DBG] Successfully validated the token.
2023-11-15 16:27:12.402 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 16:27:12.405 +07:00 [DBG] Authorization was successful.
2023-11-15 16:27:12.407 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:27:12.413 +07:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 16:27:12.423 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 16:27:12.427 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 16:27:12.433 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 16:27:12.440 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 16:27:12.446 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 16:27:12.451 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 16:27:12.457 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 16:27:12.462 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 16:27:12.464 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 16:27:12.469 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:27:12.473 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:27:12.475 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 16:27:12.478 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:27:12.483 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-15 16:27:12.489 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:27:12.491 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-15 16:27:12.496 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:27:12.498 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:27:12.502 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 16:27:12.510 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 16:27:12.517 +07:00 [DBG] A data reader was disposed.
2023-11-15 16:27:12.518 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:27:12.519 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:27:12.522 +07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-11-15 16:27:12.526 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-15 16:27:12.528 +07:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 76.7651ms
2023-11-15 16:27:12.531 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:27:12.534 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QV" completed keep alive response.
2023-11-15 16:27:12.536 +07:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 16:27:12.539 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - - - 403 0 - 168.2271ms
2023-11-15 16:28:21.436 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities - -
2023-11-15 16:28:21.438 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 16:28:21.440 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-11-15 16:28:21.441 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-11-15 16:28:21.443 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 16:28:21.445 +07:00 [DBG] Successfully validated the token.
2023-11-15 16:28:21.446 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 16:28:21.447 +07:00 [DBG] Authorization was successful.
2023-11-15 16:28:21.447 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 16:28:21.449 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-11-15 16:28:21.453 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 16:28:21.454 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 16:28:21.456 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 16:28:21.459 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 16:28:21.460 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 16:28:21.462 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 16:28:21.463 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-11-15 16:28:21.464 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-11-15 16:28:21.466 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-11-15 16:28:21.468 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-11-15 16:28:21.469 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 16:28:21.471 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-11-15 16:28:21.472 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-11-15 16:28:21.473 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-11-15 16:28:21.475 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-11-15 16:28:21.477 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-11-15 16:28:21.478 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:28:21.480 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:28:21.481 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:28:21.482 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-11-15 16:28:21.484 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-11-15 16:28:21.486 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 16:28:21.488 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-11-15 16:28:21.490 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:28:21.493 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:28:21.494 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:28:21.495 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-11-15 16:28:21.496 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-11-15 16:28:21.498 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 16:28:21.499 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-11-15 16:28:21.501 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:28:21.502 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:28:21.504 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:28:21.505 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-11-15 16:28:21.506 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-11-15 16:28:21.511 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-15 16:28:21.514 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:28:21.515 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-15 16:28:21.517 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:28:21.518 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:28:21.520 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 16:28:21.523 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-11-15 16:28:21.526 +07:00 [DBG] A data reader was disposed.
2023-11-15 16:28:21.527 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:28:21.529 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:28:21.530 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:28:21.532 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 16:28:21.534 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:28:21.535 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:28:21.537 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT -1 OFFSET @__p_0
2023-11-15 16:28:21.540 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT -1 OFFSET @__p_0
2023-11-15 16:28:21.544 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 16:28:21.546 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 16:28:21.547 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-15 16:28:21.549 +07:00 [DBG] A data reader was disposed.
2023-11-15 16:28:21.550 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:28:21.552 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:28:21.554 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-11-15 16:28:21.558 +07:00 [DBG] No information found on request to perform content negotiation.
2023-11-15 16:28:21.559 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-15 16:28:21.560 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-15 16:28:21.561 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2023-11-15 16:28:21.562 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-15 16:28:21.564 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 102.4858ms
2023-11-15 16:28:21.566 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-11-15 16:28:21.568 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QV" completed keep alive response.
2023-11-15 16:28:21.570 +07:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 16:28:21.572 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities - - - 200 673 application/xml;+charset=utf-8 135.4482ms
2023-11-15 16:28:48.364 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - -
2023-11-15 16:28:48.365 +07:00 [DBG] The request path  does not match the path filter
2023-11-15 16:28:48.366 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-11-15 16:28:48.367 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-11-15 16:28:48.370 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:28:48.372 +07:00 [DBG] Successfully validated the token.
2023-11-15 16:28:48.373 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-15 16:28:48.374 +07:00 [DBG] Authorization was successful.
2023-11-15 16:28:48.375 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:28:48.377 +07:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-11-15 16:28:48.379 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-15 16:28:48.380 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-15 16:28:48.382 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-11-15 16:28:48.383 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-15 16:28:48.385 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-11-15 16:28:48.388 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 16:28:48.391 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-11-15 16:28:48.393 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-11-15 16:28:48.395 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-11-15 16:28:48.397 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:28:48.398 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:28:48.400 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-11-15 16:28:48.402 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-11-15 16:28:48.405 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-11-15 16:28:48.408 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-15 16:28:48.409 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-15 16:28:48.412 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:28:48.414 +07:00 [DBG] Opened connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:28:48.416 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 16:28:48.420 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__cityName_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE ("c"."Id" = @__cityId_0) AND ("c"."Name" = @__cityName_1))
2023-11-15 16:28:48.423 +07:00 [DBG] A data reader was disposed.
2023-11-15 16:28:48.424 +07:00 [DBG] Closing connection to database 'main' on server 'D:\.net\CityInfo.API\CityInfo.API\CityInfo.db'.
2023-11-15 16:28:48.426 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-11-15 16:28:48.427 +07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-11-15 16:28:48.429 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-15 16:28:48.430 +07:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 41.872ms
2023-11-15 16:28:48.432 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-11-15 16:28:48.433 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QV" completed keep alive response.
2023-11-15 16:28:48.434 +07:00 [DBG] 'CityInfoContext' disposed.
2023-11-15 16:28:48.435 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7138/api/cities/1/pointsofinterest - - - 403 0 - 71.2072ms
2023-11-15 16:30:59.004 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QV" disconnecting.
2023-11-15 16:30:59.006 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QV" stopped.
2023-11-15 16:30:59.008 +07:00 [DBG] Connection id "0HMV5MJ4KJ1QV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 17:20:33.143 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-15 17:20:33.318 +07:00 [DBG] Hosting starting
2023-11-15 17:20:33.431 +07:00 [INF] User profile is available. Using 'C:\Users\Tuan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-15 17:20:33.437 +07:00 [DBG] Reading data from file 'C:\Users\Tuan\AppData\Local\ASP.NET\DataProtection-Keys\key-178a1949-30c7-4424-8abb-88859a5885a8.xml'.
2023-11-15 17:20:33.487 +07:00 [DBG] Found key {178a1949-30c7-4424-8abb-88859a5885a8}.
2023-11-15 17:20:33.504 +07:00 [DBG] Considering key {178a1949-30c7-4424-8abb-88859a5885a8} with expiration date 2024-02-12 09:22:01Z as default key.
2023-11-15 17:20:33.508 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 17:20:33.514 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-11-15 17:20:33.516 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-15 17:20:33.524 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-11-15 17:20:33.528 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-11-15 17:20:33.532 +07:00 [DBG] Using key {178a1949-30c7-4424-8abb-88859a5885a8} as the default key.
2023-11-15 17:20:33.534 +07:00 [DBG] Key ring with default key {178a1949-30c7-4424-8abb-88859a5885a8} was loaded during application startup.
2023-11-15 17:20:34.000 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 49E1A446FE4517BF490D6DC59C2BDC7ED7AD0EF3)
2023-11-15 17:20:34.083 +07:00 [INF] Now listening on: https://localhost:7138
2023-11-15 17:20:34.085 +07:00 [INF] Now listening on: http://localhost:5019
2023-11-15 17:20:34.086 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-11-15 17:20:34.087 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-11-15 17:20:34.089 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-11-15 17:20:34.090 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-15 17:20:34.092 +07:00 [INF] Hosting environment: Development
2023-11-15 17:20:34.094 +07:00 [INF] Content root path: D:\.net\CityInfo.API\CityInfo.API\
2023-11-15 17:20:34.095 +07:00 [DBG] Hosting started
2023-11-15 17:20:34.110 +07:00 [DBG] Connection id "0HMV5OI0DG82M" accepted.
2023-11-15 17:20:34.113 +07:00 [DBG] Connection id "0HMV5OI0DG82M" started.
2023-11-15 17:20:34.381 +07:00 [DBG] Connection id "0HMV5OI0DG82N" accepted.
2023-11-15 17:20:34.393 +07:00 [DBG] Connection id "0HMV5OI0DG82N" started.
2023-11-15 17:20:34.453 +07:00 [DBG] Connection 0HMV5OI0DG82N established using the following protocol: "Tls12"
2023-11-15 17:20:34.488 +07:00 [DBG] Connection id "0HMV5OI0DG82O" accepted.
2023-11-15 17:20:34.491 +07:00 [DBG] Connection id "0HMV5OI0DG82O" started.
2023-11-15 17:20:34.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/swagger/index.html - -
2023-11-15 17:20:34.563 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-15 17:20:34.863 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-11-15 17:20:35.159 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-11-15 17:20:35.167 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/_framework/aspnetcore-browser-refresh.js - -
2023-11-15 17:20:35.168 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/swagger/index.html - - - 200 - text/html;charset=utf-8 658.2150ms
2023-11-15 17:20:35.183 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 16.3749ms
2023-11-15 17:20:35.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/_vs/browserLink - -
2023-11-15 17:20:35.265 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.1245ms
2023-11-15 17:20:36.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7138/swagger/v1/swagger.json - -
2023-11-15 17:20:36.613 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7138/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 244.3706ms
2023-11-15 17:20:37.655 +07:00 [DBG] Connection id "0HMV5OI0DG82N" received FIN.
2023-11-15 17:20:37.665 +07:00 [DBG] Connection id "0HMV5OI0DG82N" is closed. The last processed stream ID was 7.
2023-11-15 17:20:37.668 +07:00 [DBG] Connection id "0HMV5OI0DG82N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 17:20:37.685 +07:00 [DBG] Connection id "0HMV5OI0DG82N" stopped.
2023-11-15 17:20:44.253 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-11-15 17:20:44.257 +07:00 [DBG] Connection id "0HMV5OI0DG82M" stopped.
2023-11-15 17:20:44.263 +07:00 [DBG] Connection id "0HMV5OI0DG82M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-15 17:20:44.496 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-11-15 17:20:44.500 +07:00 [DBG] Connection id "0HMV5OI0DG82O" stopped.
2023-11-15 17:20:44.503 +07:00 [DBG] Connection id "0HMV5OI0DG82O" sending FIN because: "The Socket transport's send loop completed gracefully."
